<!DOCTYPE html>
<html>
  <head>
    <script type="text/javascript" src="vue.js"></script>
  </head>
  <body>
    <div id="root">
      <h1>信息</h1>
      <button @click="person.age++">年龄++</button><br>
      <button @click="addSex">添加性别</button><br>
      <button @click="person.sex='女'">修改性别</button><br>
      <button @click="addFriend">添加一个朋友</button><br>
      <button @click="updateFriendName">修改朋友名</button><br>
      <button @click="addHobby">添加爱好</button><br>
      <button @click="updataHobby">修改爱好</button><br>
      <button @click="remove">过滤爱好</button>
      <h2>姓名：{{person.name}}</h2>
      <h2>年龄：{{person.age}}</h2>
      <h2 v-if="person.sex">性别：{{person.sex}}</h2>
      <h3>爱好：</h3>
      <ul>
        <li v-for="(h,index) in person.hobby" :key="index">{{h}}</li>
      </ul>
      <h3>frinds:</h3>
      <ul>
        <li v-for="(f,index) in person.friend" :key="index">
          {{f.name}}-{{f.age}}
        </li>
      </ul>
    </div>
  </body>
  <script type="text/javascript">
    new Vue({
      el: "#root",
      data: {
        person: {
          name: "xx",
          age: 18,
          hobby: ["1", "2", "3"],
          friend: [
            { name: "aa", age: 20 },
            { name: "bb", age: 30 },
          ],
        },
      },
      methods:{
        addSex(){
          this.$set(this.person,'sex','男')
        },
        addFriend(){
          this.person.friend.unshift({name:'cc',age:10})
        },
        updateFriendName(){
          this.person.friend[0].name='xx'
        },
        addHobby(){
          this.person.hobby.push('99')
        },
        updataHobby(){
          this.$set(this.person.hobby,0,'<>')
        },
        remove(){
          this.person.hobby=this.person.hobby.filter((h)=>{
            return h!=='2'
          })
        }
      }
    });
  </script>
</html>
